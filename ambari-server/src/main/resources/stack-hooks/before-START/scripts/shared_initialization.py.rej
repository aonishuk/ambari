--- ambari-server/src/main/resources/stack-hooks/before-START/scripts/shared_initialization.py
+++ ambari-server/src/main/resources/stack-hooks/before-START/scripts/shared_initialization.py
@@ -106,18 +106,19 @@ def setup_hadoop():
            mode=0644,
            content=StaticFile("fast-hdfs-resource.jar")
            )
-    if params.hadoop_metrics2_properties_content:
-      File(os.path.join(params.hadoop_conf_dir, "hadoop-metrics2.properties"),
-           owner=params.hdfs_user,
-           group=params.user_group,
-           content=InlineTemplate(params.hadoop_metrics2_properties_content)
-           )
-    else:
-      File(os.path.join(params.hadoop_conf_dir, "hadoop-metrics2.properties"),
-           owner=params.hdfs_user,
-           group=params.user_group,
-           content=Template("hadoop-metrics2.properties.j2")
-           )
+    if os.path.exists(params.hadoop_conf_dir):
+      if params.hadoop_metrics2_properties_content:
+        File(os.path.join(params.hadoop_conf_dir, "hadoop-metrics2.properties"),
+             owner=params.hdfs_user,
+             group=params.user_group,
+             content=InlineTemplate(params.hadoop_metrics2_properties_content)
+             )
+      else:
+        File(os.path.join(params.hadoop_conf_dir, "hadoop-metrics2.properties"),
+             owner=params.hdfs_user,
+             group=params.user_group,
+             content=Template("hadoop-metrics2.properties.j2")
+             )
 
     if params.dfs_type == 'HCFS' and params.has_core_site and 'ECS_CLIENT' in params.component_list:
       create_dirs()
